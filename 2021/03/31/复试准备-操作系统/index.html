<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          操作系统-复试 - Wzc的博客 | Wzc&#39;s Blog
        
    </title>

    <link rel="canonical" href="https://wzc-blog.github.io/2021/03/31/复试准备-操作系统/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/hux-blog.min.css">


    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Wzc&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="https://wzc-blog.github.io/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('post-bg-js-module.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#操作系统" title="操作系统">操作系统</a>
                        
                    </div>
                    <h1>操作系统-复试</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by wzc on
                        2021-03-31
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h4 id="1-覆盖和交换技术"><a href="#1-覆盖和交换技术" class="headerlink" title="1.  覆盖和交换技术"></a>1.  覆盖和交换技术</h4><p>   首先，覆盖和交换技术都是<strong>内存扩充技术</strong>，利用外存来逻辑的扩展内存</p>
<p>   覆盖是一个程序中的若干程序段共享某一存储空间，基本单位是<strong>程序段</strong>，是进程的一部分；其实现是将程序划分为若干个功能上相互独立的程序段，按照自身的逻辑结构使不会同时执行的程序段共享同一块内存空间，前一段程序段执行结束后，后续的程序段调入内存，覆盖前面的程序段。</p>
<p>   当然，这种程序段的划分，<strong>需要开发人员（用户）来实现</strong>，增加用户的负担</p>
<p>   交换技术是指一个作业装入内存后，仍然可以将其交换出内存或再交换入内存(传统是一个程序进入内存便一直运行到结束)，基本单位是<strong>整个进程的地址空间</strong>，<strong>由操作系统完成</strong>，<strong>发生在不同程序之间</strong></p>
<p>   思考三个问题：</p>
<p>   ​    1.应该在外存的什么位置保存被换出的进程</p>
<p>   ​        具有对换功能的操作系统，通常把磁盘空间划分为文件区和对换区，对换区比文件区的速度快，存放在对换区</p>
<p>   ​    2.应该在什么时候交换</p>
<p>   ​        交换通常发生在内存吃紧时，当发现许多进程经常发生缺页时，可换出一些进程，如果缺页率明显下降，就可以暂停换出</p>
<p>   ​    3.应该换出哪些进程</p>
<p>   ​        可优先换出阻塞进程，注意：<strong>PCB会常驻内存，不会被换出内存</strong></p>
<h4 id="2-进程和线程"><a href="#2-进程和线程" class="headerlink" title="2.  进程和线程"></a>2.  进程和线程</h4><p>   进程是指程序在一个数据集合上运行的过程，是系统资源分配和调度的独立单位。习惯上，我们定义进程为：程序的一次执行</p>
<p>   线程是进程中的实体，是被系统(CPU)独立调度和分配的基本单位，线程自己不拥有系统资源，只拥有一些在运行中必不可少的资源，但它可以与同属一个进程的其他线程共享系统资源。</p>
<p>   关系：一个线程可以创建和撤销另一个线程，同一个进程中的多个线程可以并发执行。</p>
<p>   比较：</p>
<ul>
<li>调度：线程作为调度和分配的基本单位，进程作为资源拥有的基本单位，显著提高系统的并发程度，同一进程中线程的切换不会引起进程的切换，不同进程中线程的切换会引起进程的切换</li>
<li>并发性：一个进程中的多个线程之间，亦可并发执行，因此操作系统具有更好的并发性。</li>
<li>拥有资源：一个进程的代码段、数据段以及系统资源，可供同一进程的所有线程共享</li>
<li>系统开销：进程切换的开销明显大于线程的开销，线程的切换、同步和通信都无需操作系统内核的干预</li>
</ul>
<h4 id="3-系统调用"><a href="#3-系统调用" class="headerlink" title="3. 系统调用"></a>3. 系统调用</h4><p>   1） 系统调用与库函数</p>
<p>   <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gotzegoq9fj31140e8jzb.jpg" alt="WX20210323-172948@2x"></p>
<p>   高级语言中的库函数使用系统调用，隐藏掉系统调用的一些细节。</p>
<p>   系统调用背后的过程：</p>
<p>   <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gotzeezoc8j30yk0iatnu.jpg"></p>
<p>   其中int指令之后，引发内中断，从而使CPU进入核心态，处理之后的操作</p>
<p>   <strong>系统调用会使处理器从用户态进入核心态</strong></p>
<p>   <strong>系统调用发生在用户态，对系统调用的处理发生在核心态</strong></p>
<h4 id="4-进程通信"><a href="#4-进程通信" class="headerlink" title="4. 进程通信"></a>4. 进程通信</h4><p>   1）共享存储</p>
<p>   <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gotzecxeqcj30zw0gk7dh.jpg"></p>
<p>   ​    临界区/临界资源</p>
<ul>
<li><p>使用临界资源的原则：</p>
<ul>
<li><p>空闲让进</p>
</li>
<li><p>忙则等待</p>
</li>
<li><p>有限等待</p>
</li>
<li><p>让权等待</p>
<p>当进程不能进入临界区时，应立即释放处理机，防止进程忙等待</p>
</li>
<li><p>多中择一</p>
</li>
</ul>
</li>
</ul>
<p>   <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gov9nw7x2yj30uo06gq6y.jpg"></p>
<p>   2）消息传递</p>
<p>   <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gotzgde3yaj311m0io16b.jpg"></p>
<p>   3）管道通信</p>
<p>   <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gotze5m8dnj310y0iutlm.jpg"></p>
<p>   <strong>半双工通信！！！</strong></p>
<p>   4）套接字</p>
<h4 id="5-进程调度"><a href="#5-进程调度" class="headerlink" title="5. 进程调度"></a>5. 进程调度</h4><p>   为什么要进程调度：</p>
<p>   首先，明确作业通常是指一个正在准备进入内存的程序，当进入内存后，称为进程，因此有作业调度和进程调度，作业调度又称为高级调度，由用户决定哪个作业进入内存，而进程调度又称为低级调度</p>
<p>   当有多个作业进入内存，也就是说选择了一个作业集合来运行，系统要为作业建立起一组进程，即所谓的多个程序并发执行，这组进程协同运行，以便共同完成该作业的计算任务，那么就存在进程调度问题。</p>
<p>   进程调度的职能就是动态的、合理的把处理机分配给就绪队列中的某一进程，使该进程投入运行。</p>
<p>   进程调度算法：</p>
<ul>
<li><p>先来先服务(FCFS)</p>
<p>按照进程就绪的先后顺序来调度算法，先到达的进程优先级越高</p>
</li>
<li><p>轮转调度</p>
<p>所有进程都执行相同的时间片，优先分配就绪队列的第一个进程，当时间片用完之后，便被迫释放处理机给下一个处于就绪队列的第一个进程</p>
</li>
<li><p>分级轮转法/多级队列调度</p>
<p>将就绪队列分为若干个队列，不同的队列具有不同的优先级，不同的就绪队列采用不同的调度算法</p>
</li>
<li><p>优先级法</p>
<p>按照进程的优先级分配时间片，根据已占有的进程是否可被剥夺，可分为：</p>
<ul>
<li><p>非抢占式/优先占有法</p>
<p>一旦某个最高优先级的就绪进程分得处理机之后，只要不是其自身的原因被阻塞而不能继续运行时，就一直运行下去，直到运行结束</p>
</li>
<li><p>抢占式/优先剥夺法</p>
<p>当一个正在运行的进程其时间片未用完时，当有更高优先级的进程处于就绪队列时，优先级更高的进程就可以取代目前正在运行的进程</p>
</li>
</ul>
</li>
<li><p>其他</p>
</li>
</ul>
<h4 id="6-进程同步与异步"><a href="#6-进程同步与异步" class="headerlink" title="6. 进程同步与异步"></a>6. 进程同步与异步</h4><p>   异步：</p>
<p>   进程异步是指进程互不影响，运行无序，一个进程不需要一直等下去，而是继续执行下面的操作，不管其他的进程的状态</p>
<p>   特点：</p>
<p>   非阻塞模式，无需等待，彼此独立，线程是异步实现的一个方式</p>
<p>   同步：</p>
<p>   进程同步是指进程之间有相互合作的协同工作关系，有前后次序的等待关系，一个进程在执行某个请求的时候，若该请求需要一段时间才能返回信息，那么，这个进程将会一直等待下去，直到收到返回信息才继续执行下去</p>
<p>   特点：</p>
<p>   阻塞模式，按顺序执行，需要等待，协调运行</p>
<p>   互斥；</p>
<p>   进程互斥是指一个进程运行某个操作时，另一个进程不能做这个操作</p>
<p>   <strong>进程间的互斥和同步是一种通信方式，进程通过修改信号量或其他方式与另一进程通信</strong></p>
<h4 id="7-死锁"><a href="#7-死锁" class="headerlink" title="7.  死锁"></a>7.  死锁</h4><p>   死锁产生的原因：一是系统提供的资源不能满足每个进程的使用；二是在多道程序运行时，进程推进顺序不合法</p>
<p>   死锁产生的必要条件：</p>
<ul>
<li><p>互斥条件</p>
<p>一个资源每次只能被一个进程使用</p>
</li>
<li><p>不可剥夺</p>
<p>进程已获得的资源，在未使用完之前，不能被其他进程剥夺，只能自己释放</p>
</li>
<li><p>请求和保持</p>
<p>进程已经保持了至少一个资源，但又提出了新的资源要求，而请求的资源被其他进程占有</p>
</li>
<li><p>循环等待</p>
<p>前一个进程占有的资源正是后一个进程请求的资源</p>
</li>
</ul>
<p>   预防死锁：–破坏产生死锁的四个条件</p>
<ul>
<li><p>资源独占</p>
<p>将一个进程需要的资源一次性全部分配</p>
</li>
<li><p>资源顺序分配–破坏了循环等待条件</p>
</li>
<li><p>资源受控动态分配—银行家算法</p>
</li>
</ul>
<p>   死锁处理：</p>
<ul>
<li>资源剥夺法</li>
<li>撤销进程法</li>
</ul>
<h4 id="8-线程间通信机制"><a href="#8-线程间通信机制" class="headerlink" title="8. 线程间通信机制"></a>8. 线程间通信机制</h4><ul>
<li>锁机制：互斥锁、条件变量、读写锁</li>
<li>信号量机制</li>
<li>信号机制</li>
</ul>
<h4 id="9-线程间通信的方式"><a href="#9-线程间通信的方式" class="headerlink" title="9.  线程间通信的方式"></a>9.  线程间通信的方式</h4><ul>
<li>临界区</li>
<li>互斥量</li>
<li>信号量</li>
<li>事件</li>
</ul>
<h4 id="10-一个鼠标点击引发的操作系统的工作"><a href="#10-一个鼠标点击引发的操作系统的工作" class="headerlink" title="10. 一个鼠标点击引发的操作系统的工作"></a>10. 一个鼠标点击引发的操作系统的工作</h4><p>   鼠标单击屏幕的图标时，首先由鼠标按钮产生中断，然后转入操作系统的中断处理，之后通过相应的分析程序获取屏幕上图标所在的坐标，从而得知是哪个程序，在将该程序调入内存之前，首先由进程管理模块为此程序建立进程，再由存储管理模块为此程序分配内存，然后由文件管理系统提供该程序在外存上的位置等属性，文件管理系统调用设备管理模块启动磁盘驱动器，并将该程序由磁盘读取到内存中</p>
<p>   鼠标点击-&gt;请求中断-&gt;操作系统中断处理-&gt;相应的分析程序获取图标的坐标-&gt;获知哪个程序-&gt;进程管理建立进程(程序+数据+PCB)-&gt;存储管理模块分配内存-&gt;文件管理系统提供程序在外存上的位置-&gt;文件管理系统调度设备管理器，启动磁盘驱动器-&gt;磁盘驱动器将程序读入内存-&gt;等待进程调度</p>
<h4 id="11-存储体系"><a href="#11-存储体系" class="headerlink" title="11.  存储体系"></a>11.  存储体系</h4><ul>
<li>寄存器-内存-外存</li>
<li>寄存器-缓存-内存-外存（目前主流）</li>
</ul>
<h4 id="12-存储管理的功能"><a href="#12-存储管理的功能" class="headerlink" title="12. 存储管理的功能"></a>12. 存储管理的功能</h4><p>   存储分为内存和外存，内存空间是指由存储单元组成的一维连续的地址空间，统称为内存空间，用来存放当前正在运行的程序的代码和数据</p>
<p>   内存至少划分为两个区域，一个是操作系统本身，另一个区域是用于安置用户程序</p>
<p>   存储管理解决以下问题：</p>
<ol>
<li>内存的分配和回收</li>
</ol>
<ul>
<li>记录每个存储区域的状态，使用相应的表格记录，空闲还是已分配</li>
<li>完成分配</li>
<li>回收</li>
</ul>
<ol start="2">
<li>存储保护</li>
</ol>
<ul>
<li>地址越界保护</li>
</ul>
<p>  保证每个进程都具有相对独立的地址空间</p>
<ul>
<li>权限保护</li>
</ul>
<p>  对公共区域的访问加以限制和检查</p>
<ol start="3">
<li>地址转换</li>
</ol>
<p>  源程序经过汇编、编译连接，形成目标代码</p>
<p>  地址转换是将目标代码中的相对地址转换为计算机物理内存中的实际地址</p>
<p>  相对地址的集合叫做相对地址空间，或地址空间</p>
<p>  绝对地址空间的集合称为绝对地址空间，或存储空间</p>
<p>  根据重定位的时机，可分为静态重定位和动态重定位</p>
<ul>
<li>静态重定位</li>
</ul>
<p>  程序执行之前完成，连接程序在生成统一地址空间和装配模块的时候，还应产生一个重定位表，表中存储的是相对地址所表示的位置</p>
<p>  操作系统的装入程序要将装配模块和重定位表一起装入内存，然后根据重定位表修改重定位项，重定位表被丢弃。</p>
<p>  优点是无需硬件支持</p>
<p>  缺点是程序定位后就不能再在内存中移动，要求程序的存储空间是连续的</p>
<ul>
<li>动态重定位</li>
</ul>
<p>  程序执行中进行，即在每次访问内存单元前完成地址转换</p>
<p>  优点是目标模块无需修改，相互独立的目标模块不必顺序相邻</p>
<p>  缺点是需要硬件支持，需要定位寄存器和加法器</p>
<ol start="4">
<li><p>存储共享</p>
</li>
<li><p>扩充内存容量</p>
</li>
</ol>
<h4 id="13-分区存储管理"><a href="#13-分区存储管理" class="headerlink" title="13.  分区存储管理"></a>13.  分区存储管理</h4><p>  分区的划分方式很多，可将其归纳为两类，一类是固定式分区，另一类是可变式分区</p>
<p>  可变式分区无内碎片，但有外碎片</p>
<p>  固定分区无外碎片，但有内碎片</p>
<p>  可变分区的分配算法：</p>
<ul>
<li>最佳适应算法-碎片尽量小</li>
<li>最先适应算法-减少查找时间</li>
<li>最坏适应算法-使剩下的空区最大，减少空区碎片机会</li>
<li>下次适应算法-每次分配从上次分配的位置开始找合适的空闲区</li>
</ul>
<p>  再定位分区和多重分区：</p>
<p>  其中固定分区、可变分区、再定位分区是不可共享的，多重分区是可共享的</p>
<p>  多重分区是指将一个作业分为若干个部分，每一个部分一个分区。这样一个作业就有多个分区，可共享的数据就可以和其他作业共享。</p>
<h4 id="14-页式存储管理"><a href="#14-页式存储管理" class="headerlink" title="14.  页式存储管理"></a>14.  页式存储管理</h4><ol>
<li>什么是页式管理</li>
</ol>
<p>  页式管理是将内存分为若干个大小固定的页块，同样，用户程序的虚拟地址空间划分为同样大小的若干页面，按照这种页式的概念，用户访问内存的地址形式由相对页号和页内地址组成。</p>
<p>  要为每个被装入内存的进程提供一张页表，页表的起始地址和长度均存放在进程的进程控制块中。</p>
<ol start="2">
<li>和分区管理的区别</li>
</ol>
<p>  分区管理方式管理内存时，每道程序都占用内存的一个或几个<strong>连续</strong>的存储空间，但当内存中无足够的连续空间时，程序就无法装入，必须移动已在内存中的某写程序后才能再装入新的程序，这不仅不方便，而且系统开销也增大。</p>
<p>  引入分页后，可以把逻辑地址连续的程序分散存放在几个<strong>不连续</strong>的内存空间中</p>
<ol start="3">
<li>页表为什么要隐藏页号</li>
</ol>
<p>  我们只需要知道页表的其实位置，根据「起始地址+块号长度*页块号 」即可得到对应的内存块号。</p>
<p>  <strong>页表中只有一列，存储的是内存块号</strong></p>
<p>  从地址转换过程来看，若页表存放在内存中，一次读(或写)的操作要访问两次主存，第一次内存访问是读取页表，找到数据的物理地址，第二次内存访问才是存取数据。</p>
<h4 id="15-段式存储方式"><a href="#15-段式存储方式" class="headerlink" title="15.  段式存储方式"></a>15.  段式存储方式</h4><p>  按照程序自身的逻辑关系划分为若干个段，每个段拥有一个段名，每段从0开始编址，<strong>每个段的长度不定</strong>。</p>
<p>  内存分配规则：以段为单位进行分配，每个段在内存中占据连续空间</p>
<p>  分段的地址空间是<strong>二维</strong>的，程序员在标识一个地址时，既需要给出段名，又需要给出段内地址</p>
<p>  <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gox4bgzo3yj311w0l4ao6.jpg"></p>
<p>​    </p>
<h4 id="16-段页式存储方式"><a href="#16-段页式存储方式" class="headerlink" title="16. 段页式存储方式"></a>16. 段页式存储方式</h4><p>  分段VS分页 优缺点：</p>
<p>  <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gox37onyhaj30vy052gqd.jpg"></p>
<p>  原理是：将用户程序分为若干个段，然后把每个段划分为若干个页，在段页式系统结构中，</p>
<p>  ​    逻辑地址结构：段号+段内页号+页内地址</p>
<p>  ​    段表寄存器：段表大小+段表始址</p>
<p>  ​    段表项构成：段号（隐含）+页表始址+页表长度</p>
<p>  ​    页表项构成：页号（隐含）+内存块号/物理块号</p>
<p>  ​    物理地址：内存块(页)号*块(页)长+页内地址   或者  内存块号和页内地址二进制拼接</p>
<p>  <img src="https://tva1.sinaimg.cn/large/008eGmZEly1goxm1zliz4j311o0l4ney.jpg"></p>
<p>  <strong>一个作业一个段表，一个段一个页表</strong></p>
<h4 id="17-虚拟存储管理"><a href="#17-虚拟存储管理" class="headerlink" title="17.  虚拟存储管理"></a>17.  虚拟存储管理</h4><p>  解决一个作业必须存放在一个连续的内存中，虚拟存储基本思想是：不必将程序全部装入内存，而只需将当前需要执行的部分页或段读入内存。</p>
<p>  虚拟页式存储</p>
<p>  基本思想是进程开始之前，不是装入全部页面，而是装入一个或零个页面，之后根据进程需要的，动态的装入其他页面，当内存空间已满，需要进行淘汰。</p>
<h4 id="18-页面置换算法"><a href="#18-页面置换算法" class="headerlink" title="18.  页面置换算法"></a>18.  页面置换算法</h4><ul>
<li>先进先出FIFO</li>
<li>最近最久未使用LRU</li>
<li>最少使用LFU</li>
<li>最佳置换OPT</li>
</ul>
<h4 id="19-文件目录"><a href="#19-文件目录" class="headerlink" title="19.  文件目录"></a>19.  文件目录</h4><ul>
<li>文件控制块</li>
<li>目录结构</li>
<li>索引节点</li>
</ul>
<p>  <strong>基本作用：按名存取目录</strong></p>
<p>  目录文件存放在外存中</p>
<h4 id="20-磁盘管理"><a href="#20-磁盘管理" class="headerlink" title="20.  磁盘管理"></a>20.  磁盘管理</h4><p>磁盘调度： </p>
<p> 目的：进程请求访问磁盘时，使磁盘的平均寻道时间最少</p>
<p>  磁盘调度算法：</p>
<ul>
<li>先来先服务FCFS</li>
<li>最短寻道时间优先SSTF</li>
<li>扫描算法</li>
<li>扫描SCAN/电梯算法</li>
<li>循环扫描CSCAN</li>
</ul>
<p>思考：为什么磁盘的物理地址是（柱面号，盘面号，扇区号），而不是（盘面号，柱面号，扇区号）呢？</p>
<p>因为在读取地址连续的磁盘块时，可以减少磁头移动的时间</p>
<p>如：读取000，00，000～000，01，111时，第二个地址由00变为01时，柱面可以不用改变，即减少了磁头移动的时间。</p>
<h4 id="21-软链接和硬链接"><a href="#21-软链接和硬链接" class="headerlink" title="21.  软链接和硬链接"></a>21.  软链接和硬链接</h4><p>  <img src="https://tva1.sinaimg.cn/large/008eGmZEly1goyg4dlwotj310e0k0n8f.jpg"></p>
<p>  <img src="https://tva1.sinaimg.cn/large/008eGmZEly1goyg545u0yj310q0jqwqx.jpg"></p>
<h4 id="22-I-O输入输出硬件"><a href="#22-I-O输入输出硬件" class="headerlink" title="22.I/O输入输出硬件"></a>22.I/O输入输出硬件</h4><p>I/O控制器（I/O端口）的功能</p>
<ul>
<li>接受和识别CPU发出的命令–控制寄存器</li>
<li>向CPU报告设备的状态–状态寄存器</li>
<li>数据交换–数据寄存器</li>
<li>地址识别–识别不同设备–I/O逻辑实现<ul>
<li>内存映像编址</li>
<li>寄存器独立编址–设置专门的指令对寄存器进行操作</li>
</ul>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goyo663ysqj31260kuqi1.jpg"></p>
<p>操作系统的I/O控制方式是指操作系统控制I/O设备执行I/O操作的方式，主要有程序直接控制方式、中断方式、DMA方式和通道控制方式。</p>
<ul>
<li><p>程序直接控制方式</p>
<p>1.干预的频率：</p>
<p>完成一次读/写操作，I/O操作开始之前、完成之后需要CPU的介入，并且在</p>
<p>等待I/O完成的过程中CPU需要<strong>不断的轮询检查</strong>。</p>
<p>2.数据传送的单位：</p>
<p>每次读写<strong>一个字</strong></p>
<p>3.缺点：CPU和I/O设备只能<strong>串行工作</strong>，CPU需要一直轮询检查，长期处于忙等待状态。</p>
</li>
<li><p>中断方式</p>
<p>CPU发出请求，可以将I/O进程阻塞，等I/O进程发出中断请求，CPU再进行I/O处理。</p>
<p>1.干预的频率：</p>
<p>每次I/O操作开始之前、完成之后需要CPU介入。</p>
<p><strong>等待I/O完成的过程中CPU可以切换到别的进程执行</strong>。</p>
<p>2.数据传送的单位：</p>
<p>每次读/写<strong>一个字</strong>（每次传一个字需要中断一次）</p>
<p>3.优点：CPU和I/O设备可<strong>并行工作</strong></p>
<p>4.缺点：中断处理需要消耗较多的CPU</p>
</li>
<li><p>DMA方式/直接存储器存取</p>
<p>CPU和DMA数据输入的交互处理过程：</p>
<p><strong>（1）当进程要求存储设备输入数据时，CPU把准备存放输入数据的内存始址和要传输的字节数据分别送入DMA控制器中的内存地址寄存器和传送字节计数器，把设备控制器的中断允许位和启动位置置1，从而启动设备进行传输</strong></p>
<p>（2）此时，发出数据请求的进程进入等待状态，进程调度程序则调度其他进程占用cpu</p>
<p>（3）输入设备不断的请求DMA挪用CPU工作周期，将数据缓冲寄存器中的数据写入内存，直到传送结束</p>
<p>（4）DMA控制器在传输字节数减为0时向CPU发出中断请求，CPU在接受中断信号后，转中断处理程序进行处理。</p>
<p>（5）中断处理结束时，CPU返回被中断的进程，继续执行。</p>
<p>1.干预的频率：</p>
<p>仅在传送开始和结束的时候才需要CPU的干预</p>
<p>2.传送的单位</p>
<p>每次读写<strong>一个或多个块</strong></p>
<p>3.缺点</p>
<p>CPU每发出一个I/O指令，只能读写一个或多个连续的数据块</p>
</li>
<li><p>通道控制方式</p>
<p>通道可以识别一系列通道指令</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goyozvl8zuj310u0hsakq.jpg"></p>
<p>1.干预的频率</p>
<p>完成一组数据块的读写后才需要发出中断信号，请求CPU干预</p>
<p>2.数据传送的单位</p>
<p>每次读写<strong>一组数据块</strong></p>
<p>3.优点</p>
<p>CPU、通道、I/O设备可<strong>并行工作</strong>，资源利用率很高</p>
<p>4.缺点</p>
<p>实现复杂，需要专门的通道硬件支持</p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goyp3v2hosj30x00g8k4r.jpg"></p>
<h4 id="23-I-O软件"><a href="#23-I-O软件" class="headerlink" title="23.I/O软件"></a>23.I/O软件</h4><p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goyp81fb9sj30ru0moq90.jpg"></p>
<ul>
<li><p>用户层软件</p>
</li>
<li><p>设备独立性软件</p>
<p>又称设备无关性软件，与设备的硬件特性无关的功能几乎都在这一层是心啊</p>
<p>功能如下：</p>
<ul>
<li><p>向上一层提供统一的调用接口</p>
</li>
<li><p>设备保护</p>
<p>不同用户对设备的访问权限不同</p>
</li>
<li><p>差错处理</p>
</li>
<li><p>设备的分配与回收</p>
</li>
<li><p>数据缓冲区管理</p>
</li>
<li><p>建立逻辑设备名到物理设备名映射关系，根据设备类型选择调用相应的驱动程序</p>
<p>逻辑设备名+物理设备名+驱动程序入口地址</p>
</li>
</ul>
</li>
<li><p>设备驱动程序–与硬件相关</p>
<p>不同设备的驱动程序不同</p>
</li>
<li><p>中断处理程序–与硬件相关</p>
</li>
<li><p>硬件</p>
</li>
</ul>
<h4 id="24-I-O核心子系统"><a href="#24-I-O核心子系统" class="headerlink" title="24.I/O核心子系统"></a>24.I/O核心子系统</h4><ul>
<li><p>I/O调度</p>
</li>
<li><p>设备保护</p>
</li>
<li><p>假脱机技术</p>
<p>脱机技术：脱离主机的控制进行的输入/输出操作</p>
<p>假脱机技术：</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goypq90un7j30ua0b4whc.jpg"></p>
<p>作用：缓解设备与CPU的速度矛盾，实现预输入和缓输出</p>
<p>特点：</p>
<ul>
<li><p>提高了输入输出速度</p>
<p>SPOOLing技术提高了I/O速度.从对低速I/O设备进行的I/O操作变为对输入井或输出井的操作,如同脱机操作一样,提高了I/O速度,缓和了CPU与低速I/O设备速度不匹配的矛盾。</p>
</li>
<li><p>将独占设备改造成共享设备</p>
<p>由于SPOOLing技术把所有用户进程的输出都送入输出井，然后再由输出进程完成打印工作，而输出井在磁盘上，为共享设备。这样，SPOOLing技术就把打印机等独占设备改造成立共享设备。</p>
</li>
<li><p>实现了虚拟设备功能</p>
<p>由于SPOOLing技术实现了多个用户进程共同使用打印机这种独占设备的情况，从而实现了把一个设备当成多个设备来使用，即虚拟设备的功能。</p>
</li>
</ul>
</li>
<li><p>设备分配与回收</p>
</li>
<li><p>缓冲区管理</p>
</li>
</ul>


                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2021/03/31/认识容器和学习Docker/" data-toggle="tooltip" data-placement="top" title="容器学习">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2020/08/24/ArcGis安装/" data-toggle="tooltip" data-placement="top" title="ArcGis安装">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                

                
                <!-- disqus 评论框 start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus 评论框 end -->
                

            </div>
    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#操作系统" title="操作系统">操作系统</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="http://blog.kaijun.rocks" target="_blank">Kaijun&#39;s Blog</a></li>
                    
                        <li><a href="http://huangxuan.me" target="_blank">Hux Blog</a></li>
                    
                        <li><a href="#" target="_blank">Foo</a></li>
                    
                        <li><a href="#" target="_blank">Bar</a></li>
                    
                        <li><a href="#" target="_blank">Example Friends</a></li>
                    
                        <li><a href="#" target="_blank">It helps SEO</a></li>
                    
                </ul>
                
            </div>

        </div>
    </div>
</article>




<!-- disqus 公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "hexo-theme-huxblog";
    var disqus_identifier = "https://wzc-blog.github.io/2021/03/31/%E5%A4%8D%E8%AF%95%E5%87%86%E5%A4%87-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/";
    var disqus_url = "https://wzc-blog.github.io/2021/03/31/%E5%A4%8D%E8%AF%95%E5%87%86%E5%A4%87-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus 公共JS代码 end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                    <li>
                        <a target="_blank" href="https://twitter.com/Demonbane_x">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/wang-wei-1-15-8">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/6363559199">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="https://www.facebook.com/demonbane.cn">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://github.com/wzc-blog">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://www.instagram.com/in/6363559199">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Wzc&#39;s Blog 2021 
                    <br>
                    Theme by <a target="_blank" rel="noopener" href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    Ported by <a href="#">wzc</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=wzc-blog&repo=hexo-theme-huxblog&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://wzc-blog.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-49627206-1';
    var _gaDomain = 'huangxuan.me';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '4cc1f2d8f3067386cc5cdb626a202900';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>


<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.post-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>





<!-- Image to hack wechat -->
<img src="https://wzc-blog.github.io/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
